<!DOCTYPE html>

<html>
    <head>
        <title>Join Funeral Game</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />
    </head>
    <body>
        <h1>Join</h1>
        <input type = "text" id = "name" />
        <button onclick="joinGame()">Join!</button>
    </body>
</html>

<script>

function joinGame() {

    let name = document.querySelector("#name").value.toLowerCase()
    console.log(window.location.href + "join")
    fetch("http://" + window.location.host + "/join", {
        credentials: "same-origin",
        mode: "same-origin",
        method: "post",
        headers: { "Content-Type": "application/json" },
        body: JSON.stringify({name: name})
    })
    .then(response => {
        location.href = "/game?name=" + name
    })
    .catch(error => {
        alert("NÃ¥gonting gick fel!")
    })
}

</script>